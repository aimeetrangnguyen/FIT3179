{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "title": "Top 10 ramen flavours",
  "description": "A dashboard with cross-highlighting.",
  "data": {
    "url": "https://raw.githubusercontent.com/aimeetrangnguyen/FIT3179/master/map/data/top10flavour.csv"
  },
  "vconcat": [
    {
      "transform": [{"filter": {"selection": "pts"}}],
      "mark": "rect",
      "encoding": {
        "x": {"field": "Stars"},
        "y": {"field": "Country"},
        "color": {"aggregate": "count", "type": "quantitative", "legend": {"title": "Number of ramens"}},
        "tooltip": [
        {"field": "Country", "type": "nominal"},
        {"aggregate": "count", "field": "Stars", "type": "quantitative", "title": "Number of ramens"}
      ]
      }
    },
    {
      "width": 330,
      "height": 120,
      "mark": "bar",
      "selection": {"pts": {"type": "single", "encodings": ["x"]}},
      "encoding": {
        "y": {"aggregate": "count", "type": "quantitative"},
        "color": {
          "condition": {"selection": "pts", "value": "steelblue"},
          "value": "grey"
        },
        "x": {"field": "Flavour", "axis": {"labelAngle": -40}, "sort": "-y"}
      }
    }
  ],
  "resolve": {"legend": {"color": "independent", "size": "independent"}},
  "config": {}
}
